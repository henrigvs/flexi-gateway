server:
  port: ${GATEWAY_PORT:8443}

spring:
  application:
    name: flexi-gate
  cloud:
    discovery:
      client:
        simple:
          instances:
            taos-backend-local:
              - uri: http://taos-backend-${SPRING_PROFILES_ACTIVE}-1:${TAOS_BACKEND_PORT_1}
              - uri: http://taos-backend-${SPRING_PROFILES_ACTIVE}-2:${TAOS_BACKEND_PORT_2}
    gateway:
      server:
        webflux:
          default-filters:
            - AddRequestHeader=X-Default-Header, DefaultValue

eureka:
  client:
    service-url:
      defaultZone: http://${EUREKA_SERVER_NAME}:${EUREKA_SERVER_PORT}/eureka/

management:
  endpoints:
    web:
      exposure:
        include: health

logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    org.springframework.web: DEBUG
    org.springframework.cloud.client.discovery.simple: DEBUG
    reactor.netty.http.client: DEBUG